{% extends 'baseBack.html.twig' %}

{% block title %}- Client
{% endblock %}

{% block body %}
	<div class="container-fluid">
		<div class="row">
			<h1 class="text-center text-white">Détail d'un Client</h1>

			<a href="{{ path('user_index') }}">
				<button class="btn btn-primary">Retour à la liste des Clients</button>
			</a>

			{% dump adress %}

			{% for item in adress %}
				{% dump item %}
			{% endfor %}

			<table class="table">
				<tbody>
					<tr>
						<th class="text-secondary">Id</th>
						<td class="text-white">{{ user.id }}</td>
					</tr>
					<tr>
						<th class="text-secondary">Email</th>
						<td class="text-white">{{ user.email }}</td>
					</tr>
					<tr>
						<th class="text-secondary">Roles</th>
						<td class="text-white">{{ user.roles ? user.roles|json_encode : '' }}
							<a class="ms-5">
								<button class="btn btn-primary">Modifier droits</button>
							</a>
						</td>
					</tr>
					<tr>
						<th class="text-secondary">Firstname</th>
						<td class="text-white">{{ user.firstname }}</td>
					</tr>
					<tr>
						<th class="text-secondary">Lastname</th>
						<td class="text-white">{{ user.lastname }}</td>
					</tr>
					<tr>
						<th class="text-secondary">Gender</th>
						<td class="text-white">{{ user.gender ? 'Yes' : 'No' }}</td>
					</tr>
					<tr>
						<th class="text-secondary">DateOfBirth</th>
						<td class="text-white">{{ user.dateOfBirth ? user.dateOfBirth|date('Y-m-d') : '' }}</td>
					</tr>
					<tr>
						<th class="text-secondary">IsVerified</th>
						<td class="text-white">{{ user.isVerified ? 'Yes' : 'No' }}</td>
					</tr>
				</tbody>
			</table>

			<h2 class="text-white">Adresse du Client</h2>

			{% for item in adress %}

				{% if item %}

					<table class="table">
						<tbody>
							<tr>
								<th class="text-secondary">N°</th>
								<td class="text-white">{{ item.number }}</td>
							</tr>
                            <tr>
								<th class="text-secondary">Type de voie</th>
								<td class="text-white">{{ item.type }}</td>
							</tr>
                            <tr>
								<th class="text-secondary">nom de voie</th>
								<td class="text-white">{{ item.name }}</td>
							</tr>
                            <tr>
								<th class="text-secondary">Code postal</th>
								<td class="text-white">{{ item.postalCode}}</td>
							</tr>
                            <tr>
								<th class="text-secondary">Ville</th>
								<td class="text-white">{{ item.city}}</td>
							</tr>
                            <tr>
								<th class="text-secondary">Pays</th>
								<td class="text-white">{{ item.country}}</td>
							</tr>

						</tbody>
					</table>
                {% else %}
                    <p class="text-white">Ce client ne possède pas d'adresse enregistrée</p>

				{% endif %}
				
			{% endfor %}


			<a href="{{ path('user_edit', {'id': user.id}) }}">edit</a>

			{{ include('user/_delete_form.html.twig') }}
        </div>
	</div>
{% endblock %}
